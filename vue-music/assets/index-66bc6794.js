import{d as E,l as i,a8 as V,o as l,c as o,w as n,a,A as g,O as v,N as y,a5 as L,Z as N,u as T,ad as A,ae as I,af as U,$ as H,ac as M,B as S,h as q,i as F}from"./index-d4259e6b.js";import{E as O,a as P}from"./el-tab-pane-ea3463fe.js";import{E as Z}from"./el-image-viewer-89048ea9.js";import{_ as j}from"./ListItem.vue_vue_type_script_setup_true_lang-3a7cda83.js";import"./index-32ec0f81.js";const z=E({__name:"AsyncRank",async setup(C){let c,r;const u=L(),s=i("netease"),d=i(null),p=i(null),x=async()=>{const t=await A();console.log(t),d.value=t.list.slice(0,4),p.value=t.list.slice(4)};[c,r]=V(()=>x()),await c,r();const R=t=>t+1;return(t,m)=>{const $=Z,_=I,h=U,f=H,b=N,k=O,w=P;return l(),o(w,{modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=e=>s.value=e),type:"card",class:"demo-tabs"},{default:n(()=>[a(k,{label:"官方榜",name:"netease"},{default:n(()=>[a(b,{gutter:10},{default:n(()=>[(l(!0),g(y,null,v(d.value,e=>(l(),o(f,{key:e.id,span:8,class:"mb-3"},{default:n(()=>[a($,{class:"cursor-pointer",src:e.coverImgUrl,onClick:B=>t.$router.push(`/cd/${e.id}`)},null,8,["src","onClick"]),a(h,{class:"cursor-pointer",data:e.tracks,stripe:""},{default:n(()=>[a(_,{type:"index",label:"",index:R}),a(_,{prop:"first"}),a(_,{prop:"second"})]),_:2},1032,["data"])]),_:2},1024))),128))]),_:1})]),_:1}),a(k,{label:"全球榜",name:"global"},{default:n(()=>[a(b,{gutter:10},{default:n(()=>[(l(!0),g(y,null,v(p.value,e=>(l(),o(f,{key:e.id,class:"mb-3",span:6},{default:n(()=>[a(j,{id:String(e.id),cover:e.coverImgUrl,title:e.name,"play-count":e.playCount,type:"music",onHandleClick:B=>T(u).push(`/cd/${e.id}`)},null,8,["id","cover","title","play-count","onHandleClick"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),D=S("div",null," loading... ",-1),X=E({__name:"index",setup(C){return(c,r)=>{const u=q,s=F;return l(),o(s,null,{default:n(()=>[a(u,null,{default:n(()=>[(l(),o(M,null,{fallback:n(()=>[D]),default:n(()=>[a(z)]),_:1}))]),_:1})]),_:1})}}});export{X as default};
