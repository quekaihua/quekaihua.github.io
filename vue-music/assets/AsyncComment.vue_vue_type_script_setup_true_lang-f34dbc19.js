import{d as m,aN as f,o as s,A as o,B as t,S as w,a8 as A,n as N,c as E,w as u,a as r,J as g,O as x,N as $,e as H,a9 as I,h as L,i as S,P as a,u as C,aO as y,b as k,aP as D,G as M}from"./index-d4259e6b.js";const P=m({name:"CaretRight"}),R={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},O=t("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),U=[O];function j(h,i,_,d,l,e){return s(),o("svg",R,U)}var mt=f(P,[["render",j]]);const q=m({name:"DocumentAdd"}),F={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},G=t("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm320 512V448h64v128h128v64H544v128h-64V640H352v-64h128z"},null,-1),J=[G];function T(h,i,_,d,l,e){return s(),o("svg",F,J)}var ht=f(q,[["render",T]]);const K=m({name:"Share"}),Q={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},W=t("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"},null,-1),X=[W];function Y(h,i,_,d,l,e){return s(),o("svg",Q,X)}var pt=f(K,[["render",Y]]);const Z={key:0,class:"text-base font-normal"},tt=["src"],et={class:"w-full"},nt={class:"text-blue-500"},st={class:"float-right inline-flex items-center"},ot={key:1,class:"text-base font-normal mt-5"},at={key:2},lt=["src"],ct={class:"w-full"},rt={class:"text-blue-500"},it={class:"float-right inline-flex items-center"},_t={key:3,class:"flex justify-center"},ft=m({__name:"AsyncComment",async setup(h){let i,_;const d=H(),l=w({id:d.params.id,limit:10,offset:0}),e=w({}),p=async()=>{const c=await D(l);e.total=c.total,e.comments=c.comments,e.hotComments===void 0&&(e.hotComments=c.hotComments)};[i,_]=A(()=>p()),await i,_();const V=async c=>{l.offset=(c-1)*l.limit,await p()};return N(()=>d.params.id,async()=>{await p()}),(c,dt)=>{const v=M,z=I,B=L,b=S;return s(),E(b,null,{default:u(()=>[r(B,null,{default:u(()=>[e.hotComments&&e.hotComments.length>0?(s(),o("h4",Z," 精彩评论 ")):g("",!0),(s(!0),o($,null,x(e.hotComments,n=>(s(),o("div",{key:n.commentId,class:"flex py-3 px-3 w-full border-t-[1px]"},[t("img",{class:"w-8 h-8 mr-2 rounded-full",src:n.user.avatarUrl,alt:""},null,8,tt),t("div",et,[t("div",null,[t("span",nt,a(n.user.nickname)+"：",1),t("span",null,a(n.content),1)]),t("div",null,[t("span",null,a(new Date(n.time).toLocaleString().replaceAll("/","-")),1),t("span",st,[r(v,null,{default:u(()=>[r(C(y))]),_:1}),k("("+a(n.likedCount)+")",1)])])])]))),128)),e.comments&&e.comments.length>0?(s(),o("h4",ot," 最新评论 ")):(s(),o("div",at," 暂无评论 ")),(s(!0),o($,null,x(e.comments,n=>(s(),o("div",{key:n.commentId,class:"flex py-3 px-3 w-full border-t-[1px]"},[t("img",{class:"w-8 h-8 mr-2 rounded-full",src:n.user.avatarUrl,alt:""},null,8,lt),t("div",ct,[t("div",null,[t("span",rt,a(n.user.nickname)+"：",1),t("span",null,a(n.content),1)]),t("div",null,[t("span",null,a(new Date(n.time).toLocaleString().replaceAll("/","-")),1),t("span",it,[r(v,null,{default:u(()=>[r(C(y))]),_:1}),k("("+a(n.likedCount)+")",1)])])])]))),128)),e.total>0?(s(),o("div",_t,[r(z,{layout:"prev, pager, next","page-size":l.limit,total:e.total,onCurrentChange:V},null,8,["page-size","total"])])):g("",!0)]),_:1})]),_:1})}}});export{ft as _,mt as c,ht as d,pt as s};
