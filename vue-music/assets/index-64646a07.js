import{d as h,l as d,S,a8 as g,o as s,c as u,w as n,a as o,B as C,b as A,A as i,O as m,u as f,N as y,a5 as P,g as V,Z as z,a9 as R,h as j,i as q,P as D,aa as F,ab as I,$ as O,ac as U}from"./index-d4259e6b.js";import{_ as Z}from"./ListItem.vue_vue_type_script_setup_true_lang-3a7cda83.js";const G=["onClick"],J=h({__name:"AsyncMusicList",async setup(v){let a,l;const _=d(0),k=async()=>(await F()).tags,p=d(null),r=async()=>{const t=await I(c);_.value=t.total,p.value=t.playlists},c=S({cat:"全部",limit:24,offset:0}),w=t=>{c.cat=t,r()},x=([a,l]=g(()=>k()),a=await a,l(),a);[a,l]=g(()=>r()),await a,l();const E=P(),$=t=>{c.offset=(t-1)*c.limit,r()};return(t,Q)=>{const B=V,L=O,T=z,b=R,H=j,M=q;return s(),u(M,null,{default:n(()=>[o(B,{class:"flex items-center"},{default:n(()=>[C("p",null,[A(" 热门标签： "),(s(!0),i(y,null,m(f(x),e=>(s(),i("span",{key:e.id,class:"mr-1 cursor-pointer",onClick:N=>w(e.name)}," | "+D(e.name),9,G))),128))])]),_:1}),o(H,null,{default:n(()=>[o(T,{class:"",gutter:15},{default:n(()=>[(s(!0),i(y,null,m(p.value,e=>(s(),u(L,{key:e.id,class:"mb-5 relative shadow-lg",span:6},{default:n(()=>[o(Z,{id:String(e.id),cover:e.coverImgUrl,title:e.name,"play-count":e.playCount,type:"video",onHandleClick:N=>f(E).push(`/cd/${e.id}`)},null,8,["id","cover","title","play-count","onHandleClick"])]),_:2},1024))),128))]),_:1}),o(b,{class:"justify-center",layout:"prev, pager, next","page-size":c.limit,total:_.value,onCurrentChange:$},null,8,["page-size","total"])]),_:1})]),_:1})}}}),K=C("div",null," loading... ",-1),Y=h({__name:"index",setup(v){return(a,l)=>(s(),u(U,null,{fallback:n(()=>[K]),default:n(()=>[o(J)]),_:1}))}});export{Y as default};
